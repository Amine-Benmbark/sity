{% extends 'base.html.twig' %}

{% block title %}Hello PanierController!
{% endblock %}

{% block body %}


	{% block header %}{% endblock %}
	<table class="table">
		<thead>
			<tr>
				<th>Produit</th>
				<th>Prix</th>
				<th>Quantité</th>
				<th>Total</th>
				<th>Actions</th>
			</tr>
		</thead>

		<tbody>
			{% if articles is not empty %}
				{% for article in articles %}
					<tr>
						<td>{{ article.produit.name}}</td>
						<td>{{ article.produit.prix}}€</td>
						<td>{{ article.quantity}}</td>
						<td class="text-end">{{ article.quantity * article.produit.prix}}€</td>
						<td>
							<a href="{{ path("app_add_panier", {id: article.produit.id})}}" class="btn btn-success">
								<i class="bi bi-cart-plus"></i>
							</a>
							<a href="{{ path("app_remove_panier", {id: article.produit.id})}}" class="btn btn-warning">
								<i class="bi bi-cart-dash"></i>
							</a>
							<a href="{{ path("app_delete_panier", {id: article.produit.id})}}" class="btn btn-danger">
								<i class="bi bi-cart-x"></i>
							</a>
						</td>
					</tr>
				{% endfor %}
			{% else %}
				<tr>
					<td colspan="5" class="text-center">
						Votre panier est vide!
					</td>
				</tr>
			{% endif %}
		</tbody>
	</tbody>
	<tfoot>
		<tr>
			<td collspan="3">Total</td>
			<td class="text-end">{{total}}€</td>
			<td></td>
			<td></td>
			<td>
				<a href="{{ path("app_delete_all_panier") }}" class="btn btn-danger">
					<i class="bi bi-cart-x"></i>
				</a>
			</td>
		</tr>
	</tfoot>
</table>{% endblock %}